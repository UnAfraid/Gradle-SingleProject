apply plugin: "java"
apply plugin: "distribution"

sourceCompatibility = JavaVersion.VERSION_1_8
	
group = "com.github.unafraid.gradle-multiproject"
version = "1.0.0"

repositories {
	mavenCentral()
}

tasks.withType(JavaCompile) {
	options.encoding = "UTF-8"
}

dependencies {
    compile(group: "org.telegram", name: "telegrambots", version: "3.6")
    testCompile(group: "junit", name:"junit", version:"4.12")
}

jar {
    manifest {
        attributes(
            "Built-By": System.getProperty("user.name"),
            "Main-Class": "com.github.unafraid.gradle.multiproject.Main",
            "Class-Path": configurations.runtime.collect({ "lib/" + it.getName() }).join(" ")
        )
    }
}

distributions {
    version = ""
    main {
        contents {
            into ("lib") {
                from(configurations.runtime)
            }
            from(jar)
            duplicatesStrategy = DuplicatesStrategy.EXCLUDE
        }
    }
}


task wrapper(type: Wrapper) {
	gradleVersion = "4.6"
}
